/* eslint-disable no-useless-constructor */import React, {Component} from "react"import connect from "./../components/connect"import {Router, Route, Switch, Redirect} from "react-router-dom"import path from "path"class RouterMain extends Component {    constructor (props) {    	super(props)	    this.state = {    		primaryRoutes: []	    };    }    componentDidMount(){    	let totalRoutes = this.props.$state;    	let resRoutes = []    	totalRoutes.filter(route => route.path !== '/login').forEach(route => {    		//必须保证 router 只有两层    		if(route.children && route.children.length) {				route.children.forEach(subRoute => {					resRoutes.push({						path: path.resolve(route.path, subRoute.path),						component: subRoute.component					})				})		    } else {		    }	    })    }    render() {        return (	        <Switch>		        {		        	this.state.primaryRoutes.map(route =>			        <Route key={route.path} path={route.path} component={route.component} />)		        }		        <Redirect to={"/404"}/>	        </Switch>        )    }}export default connect(RouterMain)